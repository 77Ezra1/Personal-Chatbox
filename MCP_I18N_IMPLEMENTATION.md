# MCPå·¥å…·å›½é™…åŒ–å®ç°è¯´æ˜

## âœ… å®ç°å†…å®¹

### 1. åˆ›å»ºç¿»è¯‘æ˜ å°„è¡¨
**æ–‡ä»¶**: `src/i18n/mcpToolsTranslations.js`

- åŒ…å« **70+ å¸¸ç”¨MCPå·¥å…·** çš„ä¸­æ–‡ç¿»è¯‘
- æ¶µç›–å¤šä¸ªç±»åˆ«ï¼š
  - ğŸ” æœç´¢ç›¸å…³ï¼ˆsearch_nodes, search_files, findPageç­‰ï¼‰
  - ğŸ“ æ–‡ä»¶æ“ä½œï¼ˆread_file, write_file, edit_fileç­‰ï¼‰
  - ğŸ—„ï¸ æ•°æ®åº“æ“ä½œï¼ˆquery, list_tables, describe_tableç­‰ï¼‰
  - ğŸ™ Gitæ“ä½œï¼ˆcreate_repository, push_files, create_issueç­‰ï¼‰
  - ğŸŒ APIå’Œç½‘ç»œï¼ˆfetch, get_request, post_requestç­‰ï¼‰
  - ğŸ¤– æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆpuppeteer_navigate, puppeteer_screenshotç­‰ï¼‰
  - ğŸ’¾ å†…å­˜å’Œç¬”è®°ï¼ˆcreate_entities, add_observationsç­‰ï¼‰
  - ğŸ’¬ Slackæ“ä½œï¼ˆpost_slack_message, reply_slack_messageç­‰ï¼‰
  - ğŸŒ¤ï¸ æ—¶é—´å’Œå¤©æ°”ï¼ˆget_current_time, get_weatherç­‰ï¼‰
  - ğŸ“ Notionæ“ä½œï¼ˆcreate_page, update_page, search_pagesç­‰ï¼‰
  - ğŸ˜ PostgreSQLæ“ä½œï¼ˆpostgres_query, postgres_list_tablesç­‰ï¼‰
  - ğŸ“º YouTubeç›¸å…³ï¼ˆget_video_info, get_transcriptç­‰ï¼‰

### 2. ä¿®æ”¹å·¥å…·Hook
**æ–‡ä»¶**: `src/hooks/useMcpTools.js`

- å¯¼å…¥ç¿»è¯‘å‡½æ•°
- åœ¨ `flatTools` ä¸­åº”ç”¨ç¿»è¯‘
- åœ¨ `toolsByService` ä¸­åº”ç”¨ç¿»è¯‘
- æ”¹è¿›åˆ†ç±»é€»è¾‘ï¼ŒåŒæ—¶æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡å…³é”®è¯åŒ¹é…

### 3. æ•°æ®ç»“æ„å˜åŒ–

#### ä¿®æ”¹å‰ï¼ˆçº¯è‹±æ–‡ï¼‰
```javascript
{
  value: 'memory_search_nodes',
  label: 'Search for nodes in the knowledge graph based on a query',
  toolName: 'search_nodes',
  description: 'Search for nodes in the knowledge graph based on a query'
}
```

#### ä¿®æ”¹åï¼ˆä¸­æ–‡æ˜¾ç¤ºï¼Œè‹±æ–‡ä¿ç•™ï¼‰
```javascript
{
  value: 'memory_search_nodes',           // ä¿æŒè‹±æ–‡ï¼ˆAPIè°ƒç”¨ç”¨ï¼‰
  label: 'åœ¨çŸ¥è¯†å›¾è°±ä¸­æ ¹æ®æŸ¥è¯¢æœç´¢èŠ‚ç‚¹',    // ä¸­æ–‡æè¿°
  toolName: 'æœç´¢èŠ‚ç‚¹',                   // ä¸­æ–‡åç§°
  originalToolName: 'search_nodes',      // ä¿ç•™è‹±æ–‡åç§°
  description: 'åœ¨çŸ¥è¯†å›¾è°±ä¸­æ ¹æ®æŸ¥è¯¢æœç´¢èŠ‚ç‚¹', // ä¸­æ–‡æè¿°
  originalDescription: 'Search for nodes in the knowledge graph based on a query' // ä¿ç•™è‹±æ–‡æè¿°
}
```

---

## ğŸ¯ å®ç°åŸç†

### ç¿»è¯‘å‡½æ•°

**getToolTranslatedName(toolName)**
- è¾“å…¥ï¼šå·¥å…·çš„è‹±æ–‡åç§°ï¼ˆå¦‚ `search_nodes`ï¼‰
- è¾“å‡ºï¼šä¸­æ–‡åç§°ï¼ˆå¦‚ `æœç´¢èŠ‚ç‚¹`ï¼‰
- å›é€€ï¼šå¦‚æœæ²¡æœ‰ç¿»è¯‘ï¼Œè‡ªåŠ¨æ ¼å¼åŒ–è‹±æ–‡åç§°ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œä¸‹åˆ’çº¿è½¬ç©ºæ ¼ï¼‰

**getToolTranslatedDescription(toolName, originalDescription)**
- è¾“å…¥ï¼šå·¥å…·è‹±æ–‡åç§° + åŸå§‹è‹±æ–‡æè¿°
- è¾“å‡ºï¼šä¸­æ–‡æè¿°
- å›é€€ï¼šå¦‚æœæ²¡æœ‰ç¿»è¯‘ï¼Œè¿”å›åŸå§‹è‹±æ–‡æè¿°

### åˆ†ç±»é€»è¾‘å¢å¼º

åŸæ¥åªæ£€æŸ¥è‹±æ–‡å…³é”®è¯ï¼š
```javascript
if (toolName.includes('search') || toolName.includes('find'))
```

ç°åœ¨åŒæ—¶æ£€æŸ¥è‹±æ–‡å’Œä¸­æ–‡ï¼š
```javascript
if (
  originalName.includes('search') || originalName.includes('find') ||
  translatedName.includes('æœç´¢') || translatedDesc.includes('æŸ¥è¯¢')
)
```

è¿™æ ·æ— è®ºæ˜¯è‹±æ–‡å·¥å…·è¿˜æ˜¯ä¸­æ–‡ç¿»è¯‘åçš„å·¥å…·ï¼Œéƒ½èƒ½æ­£ç¡®åˆ†ç±»ã€‚

---

## ğŸ“¸ æ•ˆæœå±•ç¤º

### ä¿®æ”¹å‰
```
æœç´¢å’Œæ£€ç´¢ (3)
  â—‹ search_nodes
    Search for nodes in the knowledge graph based on a query

  â—‹ search_files
    Recursively search for files and directories matching a pattern
```

### ä¿®æ”¹å
```
æœç´¢å’Œæ£€ç´¢ (3)
  â—‹ æœç´¢èŠ‚ç‚¹
    åœ¨çŸ¥è¯†å›¾è°±ä¸­æ ¹æ®æŸ¥è¯¢æœç´¢èŠ‚ç‚¹

  â—‹ æœç´¢æ–‡ä»¶
    é€’å½’æœç´¢åŒ¹é…æ¨¡å¼çš„æ–‡ä»¶å’Œç›®å½•
```

---

## ğŸ”§ å¦‚ä½•æ·»åŠ æ–°çš„ç¿»è¯‘

### 1. ç¼–è¾‘ç¿»è¯‘æ–‡ä»¶

æ‰“å¼€ `src/i18n/mcpToolsTranslations.js`ï¼Œåœ¨ `mcpToolsTranslations` å¯¹è±¡ä¸­æ·»åŠ ï¼š

```javascript
export const mcpToolsTranslations = {
  // ... ç°æœ‰ç¿»è¯‘ ...

  // æ·»åŠ æ–°ç¿»è¯‘
  'your_tool_name': {
    name: 'ä½ çš„å·¥å…·åç§°',
    description: 'ä½ çš„å·¥å…·æè¿°'
  }
}
```

### 2. å·¥å…·åç§°æ ¼å¼

**é‡è¦**ï¼šå·¥å…·åç§°æ˜¯ä¸å«æœåŠ¡å‰ç¼€çš„éƒ¨åˆ†ã€‚

ä¾‹å¦‚ï¼š
- å®Œæ•´å·¥å…·IDï¼š`memory_search_nodes`
- æœåŠ¡IDï¼š`memory`
- å·¥å…·åç§°ï¼š`search_nodes` â† ç”¨è¿™ä¸ªä½œä¸ºkey

### 3. æ— éœ€é‡å¯

å‰ç«¯ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°çš„ç¿»è¯‘ï¼Œåªéœ€åˆ·æ–°é¡µé¢å³å¯ã€‚

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. åˆ·æ–°é¡µé¢
å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+Rï¼‰æ¸…é™¤ç¼“å­˜

### 2. æ‰“å¼€Agentåˆ›å»ºé¡µé¢
- ç‚¹å‡»"åˆ›å»ºæ–°ä»£ç†"
- åˆ‡æ¢åˆ°"Capabilities"æ ‡ç­¾

### 3. å¯ç”¨MCP Services
æ‰“å¼€"å·¥å…·"éƒ¨åˆ†çš„"MCP Services"å¼€å…³

### 4. éªŒè¯ç¿»è¯‘
ä½ åº”è¯¥çœ‹åˆ°ï¼š
- âœ… å·¥å…·åç§°æ˜¾ç¤ºä¸­æ–‡ï¼ˆå¦‚ "æœç´¢èŠ‚ç‚¹" è€Œä¸æ˜¯ "search_nodes"ï¼‰
- âœ… å·¥å…·æè¿°æ˜¾ç¤ºä¸­æ–‡
- âœ… ç±»åˆ«åç§°ä¿æŒä¸­æ–‡
- âœ… å·¥å…·ä»ç„¶å¯ä»¥æ­£å¸¸é€‰æ‹©å’Œä½¿ç”¨

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1: æŸäº›å·¥å…·ä»æ˜¾ç¤ºè‹±æ–‡

**åŸå› **: è¯¥å·¥å…·å°šæœªæ·»åŠ ç¿»è¯‘

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥çœ‹æ§åˆ¶å°ï¼Œè®°ä¸‹å·¥å…·çš„è‹±æ–‡åç§°
2. åœ¨ `mcpToolsTranslations.js` ä¸­æ·»åŠ è¯¥å·¥å…·çš„ç¿»è¯‘
3. åˆ·æ–°é¡µé¢

### é—®é¢˜2: å·¥å…·åˆ†ç±»é”™è¯¯

**åŸå› **: åˆ†ç±»å…³é”®è¯ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:
1. æ‰“å¼€ `src/hooks/useMcpTools.js`
2. æ‰¾åˆ° `toolsByCategory` çš„ `useMemo`
3. åœ¨å¯¹åº”ç±»åˆ«çš„åˆ¤æ–­æ¡ä»¶ä¸­æ·»åŠ æ›´å¤šå…³é”®è¯

ä¾‹å¦‚ï¼Œå°†å·¥å…·åˆ†ç±»åˆ°"æœç´¢å’Œæ£€ç´¢"ï¼š
```javascript
if (
  originalName.includes('search') || originalName.includes('find') ||
  originalName.includes('lookup') || // æ·»åŠ æ–°å…³é”®è¯
  translatedName.includes('æœç´¢') || translatedName.includes('æŸ¥æ‰¾')
)
```

### é—®é¢˜3: ç¿»è¯‘æ–‡ä»¶æŠ¥é”™

**æ£€æŸ¥æ¸…å•**:
- âœ… æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼š`src/i18n/mcpToolsTranslations.js`
- âœ… exportè¯­æ³•æ­£ç¡®
- âœ… å¯¹è±¡æ ¼å¼æ­£ç¡®ï¼ˆé€—å·ã€å¼•å·ç­‰ï¼‰
- âœ… æ²¡æœ‰ä¸­æ–‡æ ‡ç‚¹ç¬¦å·ï¼ˆå¦‚ä¸­æ–‡é€—å·ã€å†’å·ï¼‰

---

## ğŸ“Š ç¿»è¯‘è¦†ç›–ç‡

### å½“å‰å·²ç¿»è¯‘
- **æœç´¢ç›¸å…³**: 6ä¸ªå·¥å…· âœ…
- **æ–‡ä»¶æ“ä½œ**: 11ä¸ªå·¥å…· âœ…
- **æ•°æ®åº“æ“ä½œ**: 4ä¸ªå·¥å…· âœ…
- **Gitæ“ä½œ**: 15ä¸ªå·¥å…· âœ…
- **APIå’Œç½‘ç»œ**: 3ä¸ªå·¥å…· âœ…
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: 7ä¸ªå·¥å…· âœ…
- **å†…å­˜å’Œç¬”è®°**: 7ä¸ªå·¥å…· âœ…
- **Slackæ“ä½œ**: 4ä¸ªå·¥å…· âœ…
- **æ—¶é—´å’Œå¤©æ°”**: 2ä¸ªå·¥å…· âœ…
- **Notionæ“ä½œ**: 7ä¸ªå·¥å…· âœ…
- **PostgreSQL**: 3ä¸ªå·¥å…· âœ…
- **YouTube**: 3ä¸ªå·¥å…· âœ…

**æ€»è®¡**: 70+ å·¥å…·

### å¦‚ä½•æé«˜è¦†ç›–ç‡

1. æŸ¥çœ‹Agentåˆ›å»ºé¡µé¢çš„å·¥å…·åˆ—è¡¨
2. è®°å½•ä»æ˜¾ç¤ºè‹±æ–‡çš„å·¥å…·åç§°
3. åœ¨ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ è¿™äº›å·¥å…·
4. æäº¤PRæˆ–æ›´æ–°æ–‡æ¡£

---

## ğŸŒ å¤šè¯­è¨€æ”¯æŒï¼ˆæœªæ¥æ‰©å±•ï¼‰

å½“å‰å®ç°æ˜¯é’ˆå¯¹ä¸­æ–‡çš„ï¼Œä½†æ¶æ„æ”¯æŒæ‰©å±•åˆ°å¤šè¯­è¨€ï¼š

### æ‰©å±•æ­¥éª¤

1. **åˆ›å»ºå¤šè¯­è¨€æ–‡ä»¶ç»“æ„**
```
src/i18n/
  â”œâ”€â”€ mcpToolsTranslations.js (å½“å‰)
  â”œâ”€â”€ mcpToolsTranslations.zh-CN.js (ç®€ä½“ä¸­æ–‡)
  â”œâ”€â”€ mcpToolsTranslations.zh-TW.js (ç¹ä½“ä¸­æ–‡)
  â”œâ”€â”€ mcpToolsTranslations.en.js (è‹±æ–‡)
  â””â”€â”€ mcpToolsTranslations.ja.js (æ—¥æ–‡)
```

2. **ä¿®æ”¹ç¿»è¯‘å‡½æ•°**
```javascript
import { useLanguage } from '@/hooks/useLanguage'

function getToolTranslatedName(toolName) {
  const { language } = useLanguage()
  const translations = getTranslationsByLanguage(language)
  return translations[toolName]?.name || formatToolName(toolName)
}
```

3. **æ·»åŠ è¯­è¨€åˆ‡æ¢UI**
åœ¨è®¾ç½®é¡µé¢æ·»åŠ è¯­è¨€é€‰æ‹©å™¨

---

## ğŸ‰ æ€»ç»“

### å®ç°çš„åŠŸèƒ½
- âœ… MCPå·¥å…·åç§°ä¸­æ–‡åŒ–
- âœ… MCPå·¥å…·æè¿°ä¸­æ–‡åŒ–
- âœ… ä¿ç•™è‹±æ–‡åŸæ–‡ï¼ˆç”¨äºAPIè°ƒç”¨ï¼‰
- âœ… æ™ºèƒ½åˆ†ç±»ï¼ˆæ”¯æŒä¸­è‹±æ–‡å…³é”®è¯ï¼‰
- âœ… æ˜“äºæ‰©å±•ï¼ˆæ·»åŠ æ–°ç¿»è¯‘å¾ˆç®€å•ï¼‰
- âœ… å‘åå…¼å®¹ï¼ˆæœªç¿»è¯‘çš„å·¥å…·è‡ªåŠ¨é™çº§åˆ°è‹±æ–‡ï¼‰

### æŠ€æœ¯äº®ç‚¹
- **åŒé‡ä¿å­˜**ï¼šåŒæ—¶ä¿å­˜ä¸­æ–‡å’Œè‹±æ–‡ï¼Œç¡®ä¿å…¼å®¹æ€§
- **æ™ºèƒ½å›é€€**ï¼šæ²¡æœ‰ç¿»è¯‘æ—¶è‡ªåŠ¨æ ¼å¼åŒ–è‹±æ–‡åç§°
- **åˆ†ç±»å¢å¼º**ï¼šåŒæ—¶æ”¯æŒä¸­è‹±æ–‡å…³é”®è¯åŒ¹é…
- **æ˜“äºç»´æŠ¤**ï¼šæ‰€æœ‰ç¿»è¯‘é›†ä¸­åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­

### ç”¨æˆ·ä½“éªŒæå‡
- ğŸŒŸ ç•Œé¢æ›´å‹å¥½ï¼ˆä¸­æ–‡æ˜¾ç¤ºï¼‰
- ğŸš€ ç†è§£æ›´å¿«é€Ÿï¼ˆæ— éœ€ç¿»è¯‘è‹±æ–‡ï¼‰
- ğŸ¯ åˆ†ç±»æ›´æ¸…æ™°ï¼ˆä¸­æ–‡ç±»åˆ«åç§°ï¼‰
- âœ¨ ä½¿ç”¨æ›´ç›´è§‚ï¼ˆä¸­æ–‡æè¿°ï¼‰

---

## ğŸ“ ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

1. **ç»§ç»­æ·»åŠ ç¿»è¯‘**
   - è¦†ç›–æ›´å¤šMCPå·¥å…·
   - ç‰¹åˆ«æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„MCPæœåŠ¡

2. **æ·»åŠ å·¥å…·åˆ†ç±»æ ‡ç­¾**
   - åœ¨å·¥å…·æ—è¾¹æ˜¾ç¤ºç±»åˆ«å›¾æ ‡
   - å¦‚ ğŸ” æœç´¢ã€ğŸ“ æ–‡ä»¶ã€ğŸ—„ï¸ æ•°æ®åº“

3. **æœç´¢åŠŸèƒ½å¢å¼º**
   - æ”¯æŒä¸­è‹±æ–‡æœç´¢å·¥å…·
   - æ¨¡ç³ŠåŒ¹é…å·¥å…·åç§°å’Œæè¿°

4. **å·¥å…·è¯¦æƒ…å¡ç‰‡**
   - ç‚¹å‡»å·¥å…·æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
   - åŒ…æ‹¬å‚æ•°è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

5. **å¤šè¯­è¨€æ”¯æŒ**
   - æ‰©å±•åˆ°ç¹ä½“ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ç­‰
   - æ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨åˆ‡æ¢

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆï¼ğŸš€
