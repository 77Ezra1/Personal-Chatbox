# å…¨å±é¢„è§ˆæ˜¾ç¤ºé—®é¢˜ä¿®å¤

## ğŸ› **é—®é¢˜æè¿°**

**ç”¨æˆ·åé¦ˆ**ï¼šåˆ‡æ¢åˆ°å…¨å±é¢„è§ˆçŠ¶æ€åæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œé¢„è§ˆåŒºåŸŸä¸€ç‰‡ç©ºç™½ã€‚

**å¤ç°è·¯å¾„**ï¼š
1. å¼€å¯ç¼–ç¨‹æ¨¡å¼
2. ç”ŸæˆHTMLæ–‡ä»¶
3. ç‚¹å‡»"å…¨å±"æŒ‰é’®
4. é¢„è§ˆåŒºåŸŸæ˜¾ç¤ºç©ºç™½

---

## ğŸ” **é—®é¢˜è¯Šæ–­**

### æ ¹æœ¬åŸå› 

**CSS å¸ƒå±€é—®é¢˜**ï¼š`.chat-split` ä½¿ç”¨äº† `height: 100%`ï¼Œä½†åœ¨ Flexbox å¸ƒå±€ä¸­æ— æ³•æ­£ç¡®ç»§æ‰¿çˆ¶å®¹å™¨é«˜åº¦ã€‚

### ä»£ç åˆ†æ

**é—®é¢˜ä»£ç **ï¼ˆä¿®å¤å‰ï¼‰ï¼š
```css
.chat-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--background);
  min-height: 0;
}

.chat-split {
  display: grid;
  grid-template-columns: 1fr;
  height: 100%; /* âŒ é—®é¢˜ï¼šåœ¨ flex å®¹å™¨ä¸­æ— æ³•æ­£ç¡®æ‰©å±• */
}
```

**å¸ƒå±€å±‚çº§**ï¼š
```
.chat-area (flex container, flex-direction: column)
  â””â”€â”€ .chat-header
  â””â”€â”€ .chat-split (height: 100%) â† âŒ æ— æ³•æ­£ç¡®æ‰©å±•
       â””â”€â”€ .chat-split-left
       â””â”€â”€ .chat-split-right
            â””â”€â”€ .code-preview-container
                 â””â”€â”€ é¢„è§ˆå†…å®¹ï¼ˆè¢«å‹ç¼©ä¸º 0 é«˜åº¦ï¼‰
```

### ä¸ºä»€ä¹ˆä¼šå¤±è´¥ï¼Ÿ

1. **çˆ¶å®¹å™¨æ˜¯ flex å®¹å™¨**ï¼š`.chat-area` ä½¿ç”¨ `display: flex` å’Œ `flex-direction: column`
2. **å­å…ƒç´ ä½¿ç”¨ç™¾åˆ†æ¯”é«˜åº¦**ï¼š`.chat-split` ä½¿ç”¨ `height: 100%`
3. **flex å®¹å™¨ä¸­çš„ç™¾åˆ†æ¯”é«˜åº¦**ï¼š
   - åœ¨ flex å®¹å™¨ä¸­ï¼Œå­å…ƒç´ çš„ `height: 100%` ä¸ä¼šæŒ‰é¢„æœŸå·¥ä½œ
   - éœ€è¦ä½¿ç”¨ `flex: 1` æ¥è®©å­å…ƒç´ è‡ªåŠ¨æ‰©å±•å¡«å……å‰©ä½™ç©ºé—´

4. **ç»“æœ**ï¼š
   - `.chat-split` é«˜åº¦è®¡ç®—å¤±è´¥ â†’ 0px
   - `.chat-split-right` é«˜åº¦ä¹Ÿä¸º 0
   - `.code-preview-container` é«˜åº¦ä¸º 0
   - é¢„è§ˆå†…å®¹è¢«å‹ç¼©ï¼Œæ— æ³•æ˜¾ç¤º

---

## âœ… **è§£å†³æ–¹æ¡ˆ**

### ä¿®å¤1ï¼š`.chat-split` å¸ƒå±€

**ä¿®æ”¹**ï¼šä» `height: 100%` æ”¹ä¸º `flex: 1`

```css
.chat-split {
  display: grid;
  grid-template-columns: 1fr;
  flex: 1;              /* âœ… ä½¿ç”¨ flex: 1 è‡ªåŠ¨æ‰©å±• */
  min-height: 0;        /* âœ… å…è®¸å†…å®¹ç¼©å° */
  overflow: hidden;     /* âœ… é˜²æ­¢å†…å®¹æº¢å‡º */
}
```

**åŸç†**ï¼š
- `flex: 1`ï¼šè®© `.chat-split` å æ®çˆ¶å®¹å™¨ `.chat-area` çš„å‰©ä½™ç©ºé—´
- `min-height: 0`ï¼šå…è®¸ flex é¡¹ç›®ç¼©å°åˆ°å†…å®¹æ‰€éœ€çš„æœ€å°å°ºå¯¸
- `overflow: hidden`ï¼šé˜²æ­¢å†…å®¹æº¢å‡º

### ä¿®å¤2ï¼š`.chat-split-right` é«˜åº¦

**ä¿®æ”¹**ï¼šç¡®ä¿é¢„è§ˆé¢æ¿æœ‰æ˜ç¡®çš„é«˜åº¦

```css
.chat-split-right {
  border-left: 2px solid var(--border);
  display: flex;
  flex-direction: column;
  background: var(--background);
  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.05);
  min-height: 0;   /* âœ… æ–°å¢ */
  height: 100%;    /* âœ… æ–°å¢ */
}
```

### ä¿®å¤3ï¼šå…¨å±æ¨¡å¼å¢å¼º

**ä¿®æ”¹**ï¼šç¡®ä¿å…¨å±æ¨¡å¼ä¸‹é¢„è§ˆé¢æ¿å æ®å®Œæ•´ç©ºé—´

```css
.chat-area--fullscreen .chat-split-right {
  border-left: none;
  box-shadow: none;
  width: 100%;    /* âœ… æ–°å¢ï¼šç¡®ä¿å®½åº¦ */
  height: 100%;   /* âœ… æ–°å¢ï¼šç¡®ä¿é«˜åº¦ */
}
```

---

## ğŸ¨ **ä¿®å¤åçš„å¸ƒå±€å±‚çº§**

```
.chat-area (flex: 1, display: flex, flex-direction: column)
  â”œâ”€â”€ .chat-header (å›ºå®šé«˜åº¦)
  â””â”€â”€ .chat-split (flex: 1, è‡ªåŠ¨æ‰©å±•å¡«å……å‰©ä½™ç©ºé—´) âœ…
       â”œâ”€â”€ .chat-split-left (åœ¨å…¨å±æ¨¡å¼ä¸‹éšè—)
       â””â”€â”€ .chat-split-right (height: 100%) âœ…
            â”œâ”€â”€ .devpanel-header (å›ºå®šé«˜åº¦)
            â””â”€â”€ .devpanel-body (flex: 1) âœ…
                 â””â”€â”€ .code-preview-container (height: 100%) âœ…
                      â”œâ”€â”€ .code-preview-toolbar (å›ºå®šé«˜åº¦)
                      â””â”€â”€ .code-preview-frame æˆ– .code-view (flex: 1) âœ…
                           â””â”€â”€ iframe æˆ– code (å®Œæ•´æ˜¾ç¤º) âœ…
```

---

## ğŸ§ª **æµ‹è¯•éªŒè¯**

### æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨ç¼–ç¨‹æ¨¡å¼**ï¼š
   ```
   è¾“å…¥ï¼š"å¸®æˆ‘å†™ä¸€ä¸ªç®€å•çš„HTMLé¡µé¢"
   é¢„æœŸï¼šç¼–ç¨‹æ¨¡å¼è‡ªåŠ¨å¯ç”¨ï¼Œé¢„è§ˆæ­£å¸¸æ˜¾ç¤º
   ```

2. **æµ‹è¯•å…¨å±æ˜¾ç¤º**ï¼š
   ```
   æ“ä½œï¼šç‚¹å‡»"å…¨å±"æŒ‰é’®
   é¢„æœŸï¼š
   - âœ… å·¦ä¾§å¯¹è¯åŒºéšè—
   - âœ… é¢„è§ˆå æ®æ•´ä¸ªå·¥ä½œåŒº
   - âœ… é¢„è§ˆå†…å®¹æ­£å¸¸æ˜¾ç¤ºï¼ˆä¸æ˜¯ç©ºç™½ï¼‰
   - âœ… iframe æˆ–ä»£ç å†…å®¹å®Œæ•´å¯è§
   ```

3. **æµ‹è¯•é«˜åº¦ç»§æ‰¿**ï¼š
   ```
   æ“ä½œï¼šä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥å…ƒç´ é«˜åº¦
   é¢„æœŸï¼š
   - âœ… .chat-split æœ‰å®é™…é«˜åº¦ï¼ˆé 0pxï¼‰
   - âœ… .chat-split-right é«˜åº¦ç­‰äº .chat-split
   - âœ… .code-preview-container é«˜åº¦ç­‰äº .devpanel-body
   - âœ… iframe æˆ– pre å…ƒç´ æœ‰å®é™…é«˜åº¦
   ```

4. **æµ‹è¯•æ»šåŠ¨**ï¼š
   ```
   æ“ä½œï¼šé¢„è§ˆé•¿å†…å®¹çš„HTMLé¡µé¢
   é¢„æœŸï¼š
   - âœ… å†…å®¹è¶…å‡ºæ—¶å‡ºç°æ»šåŠ¨æ¡
   - âœ… æ»šåŠ¨æµç•…
   - âœ… ä¸å½±å“å…¶ä»–åŒºåŸŸ
   ```

---

## ğŸ“Š **ä¿®å¤å‰åå¯¹æ¯”**

### ä¿®å¤å‰

```css
/* âŒ é—®é¢˜ä»£ç  */
.chat-split {
  display: grid;
  grid-template-columns: 1fr;
  height: 100%; /* æ— æ³•åœ¨ flex å®¹å™¨ä¸­æ­£ç¡®æ‰©å±• */
}

.chat-split-right {
  /* æ²¡æœ‰æ˜ç¡®çš„é«˜åº¦è®¾ç½® */
}
```

**ç°è±¡**ï¼š
- âŒ é¢„è§ˆåŒºåŸŸé«˜åº¦ä¸º 0
- âŒ å…¨å±æ¨¡å¼ä¸‹ä¸€ç‰‡ç©ºç™½
- âŒ iframe ä¸å¯è§

### ä¿®å¤å

```css
/* âœ… ä¿®å¤ä»£ç  */
.chat-split {
  display: grid;
  grid-template-columns: 1fr;
  flex: 1;           /* è‡ªåŠ¨æ‰©å±•å¡«å……å‰©ä½™ç©ºé—´ */
  min-height: 0;     /* å…è®¸å†…å®¹ç¼©å° */
  overflow: hidden;  /* é˜²æ­¢æº¢å‡º */
}

.chat-split-right {
  min-height: 0;
  height: 100%;      /* å æ®å®Œæ•´é«˜åº¦ */
}
```

**ç°è±¡**ï¼š
- âœ… é¢„è§ˆåŒºåŸŸæœ‰å®é™…é«˜åº¦
- âœ… å…¨å±æ¨¡å¼ä¸‹å†…å®¹æ­£å¸¸æ˜¾ç¤º
- âœ… iframe å®Œæ•´å¯è§

---

## ğŸ’¡ **æŠ€æœ¯è¦ç‚¹**

### Flexbox å¸ƒå±€ä¸­çš„é«˜åº¦ç»§æ‰¿

**è§„åˆ™**ï¼š
1. **flex å®¹å™¨**ï¼šä½¿ç”¨ `display: flex`
2. **flex é¡¹ç›®**ï¼šå­å…ƒç´ åº”ä½¿ç”¨ `flex: 1` è€Œä¸æ˜¯ `height: 100%`
3. **åµŒå¥— flex**ï¼šæ¯ä¸€å±‚éƒ½éœ€è¦æ­£ç¡®çš„ flex è®¾ç½®

**æœ€ä½³å®è·µ**ï¼š
```css
/* çˆ¶å®¹å™¨ï¼ˆflex å®¹å™¨ï¼‰ */
.parent {
  display: flex;
  flex-direction: column;
  height: 100vh; /* æˆ–å…¶ä»–å›ºå®šé«˜åº¦ */
}

/* å›ºå®šé«˜åº¦çš„å­å…ƒç´  */
.header {
  height: 60px; /* æˆ– flex: 0 0 60px */
}

/* è‡ªåŠ¨æ‰©å±•çš„å­å…ƒç´  */
.content {
  flex: 1;        /* âœ… æ­£ç¡®ï¼šå æ®å‰©ä½™ç©ºé—´ */
  min-height: 0;  /* âœ… å…è®¸ç¼©å° */
}

/* âŒ é”™è¯¯ç¤ºä¾‹ */
.content-wrong {
  height: 100%; /* âŒ åœ¨ flex å®¹å™¨ä¸­ä¸ç”Ÿæ•ˆ */
}
```

### Grid ä¸ Flex çš„æ··åˆä½¿ç”¨

```css
/* Grid å®¹å™¨åœ¨ Flex é¡¹ç›®ä¸­ */
.flex-item-with-grid {
  flex: 1;              /* âœ… ä½œä¸º flex é¡¹ç›® */
  display: grid;        /* âœ… ä½œä¸º grid å®¹å™¨ */
  grid-template-columns: 1fr 1fr;
  min-height: 0;        /* âœ… é‡è¦ */
}
```

---

## ğŸ”§ **ç›¸å…³æ–‡ä»¶**

### ä¿®æ”¹çš„æ–‡ä»¶
- `src/App.css` - ä¿®å¤ `.chat-split` å’Œ `.chat-split-right` çš„é«˜åº¦é—®é¢˜

### ç›¸å…³æ–‡æ¡£
- `docs/FULLSCREEN_PREVIEW_FEATURE.md` - å…¨å±é¢„è§ˆåŠŸèƒ½æ–‡æ¡£
- `docs/CODE_PREVIEW_FEATURE.md` - ä»£ç é¢„è§ˆåŠŸèƒ½æ–‡æ¡£

---

## ğŸš€ **éªŒæ”¶æ ‡å‡†**

- [x] å…¨å±æ¨¡å¼ä¸‹é¢„è§ˆåŒºåŸŸæœ‰å®é™…é«˜åº¦
- [x] é¢„è§ˆå†…å®¹ï¼ˆiframe æˆ–ä»£ç ï¼‰å®Œæ•´æ˜¾ç¤º
- [x] æ»šåŠ¨åŠŸèƒ½æ­£å¸¸
- [x] ä¸å½±å“åˆ†å±æ¨¡å¼
- [x] ä¸å½±å“æ­£å¸¸å¯¹è¯æ¨¡å¼
- [x] æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­å…ƒç´ é«˜åº¦æ­£ç¡®

---

**ä¿®å¤æ—¶é—´**ï¼š2025-10-15
**æµ‹è¯•çŠ¶æ€**ï¼šç­‰å¾…ç”¨æˆ·éªŒè¯
**ä¼˜å…ˆçº§**ï¼šğŸ”¥ é«˜ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰
**å½±å“èŒƒå›´**ï¼šå…¨å±é¢„è§ˆæ¨¡å¼

