# 快速测试指南 - Slash 命令 + 字数统计

## 🔧 服务器状态

✅ **前端开发服务器**: `http://localhost:5173` (PID: 15677)
✅ **后端 API 服务器**: 应该在运行中

---

## 🧪 测试步骤

### 1. 访问笔记页面

1. 打开浏览器访问: `http://localhost:5173/notes`
2. 如果还没登录，先登录系统
3. 点击「新建笔记」或编辑现有笔记

---

### 2. 测试 Slash 命令菜单

#### 测试 1: 基础触发
```
步骤:
1. 在编辑器中输入 "/"
2. 观察是否弹出命令菜单

预期结果:
✅ 弹出包含 8 个命令的菜单:
   - Heading 1 (H1)
   - Heading 2 (H2)
   - Heading 3 (H3)
   - Bullet List (•)
   - Numbered List (1.)
   - Quote (❝)
   - Code Block ({ })
   - Divider (—)
```

#### 测试 2: 关键词搜索
```
步骤:
1. 输入 "/h"

预期结果:
✅ 只显示 H1, H2, H3 三个命令
```

#### 测试 3: 中文关键词
```
步骤:
1. 输入 "/标题"

预期结果:
✅ 显示 H1, H2, H3 命令
```

#### 测试 4: 键盘导航
```
步骤:
1. 输入 "/"
2. 按 ↓ 箭头键
3. 按 ↑ 箭头键
4. 按 Enter 执行

预期结果:
✅ 高亮选项随箭头键移动
✅ Enter 后执行对应命令
```

#### 测试 5: 执行命令
```
步骤:
1. 输入 "/h1"
2. 按 Enter
3. 输入 "测试标题"

预期结果:
✅ 文字变成大号粗体标题
```

#### 测试 6: Escape 关闭
```
步骤:
1. 输入 "/"
2. 按 Esc 键

预期结果:
✅ 菜单关闭
```

---

### 3. 测试字数统计

#### 测试 1: 空内容
```
步骤:
1. 新建笔记（内容为空）

预期结果:
✅ 显示: 📝 0 words • 🔤 0 chars • ⏱️ ~1 min read
```

#### 测试 2: 纯英文
```
步骤:
1. 输入: "Hello World Test"

预期结果:
✅ 显示: 📝 3 words • 🔤 16 chars • ⏱️ ~1 min read
```

#### 测试 3: 纯中文
```
步骤:
1. 输入: "你好世界测试"

预期结果:
✅ 显示: 📝 5 words • 🔤 6 chars • ⏱️ ~1 min read
```

#### 测试 4: 中英文混合
```
步骤:
1. 输入: "Hello 你好 World 世界"

预期结果:
✅ words: 4-6 个
✅ chars: ~15 个
✅ reading time: ~1 min
```

#### 测试 5: 实时更新
```
步骤:
1. 在编辑器中持续输入文字
2. 观察底部的字数统计

预期结果:
✅ 字数实时变化
✅ 无延迟或卡顿
```

---

### 4. 暗色主题测试

```
步骤:
1. 切换到暗色主题（如果有主题切换功能）
2. 输入 "/" 弹出命令菜单
3. 观察字数统计区域

预期结果:
✅ 命令菜单背景为深色
✅ 文字清晰可读
✅ 字数统计组件样式正常
```

---

## 🐛 常见问题排查

### 问题 1: 命令菜单不弹出

**可能原因:**
- TipTap 扩展未加载
- Tippy.js 样式未引入

**解决方法:**
```bash
# 检查浏览器控制台是否有错误
# 查看 Network 标签是否加载了 tippy.css
```

### 问题 2: 字数统计不显示

**可能原因:**
- WordCounter 组件未导入
- CSS 样式未加载

**解决方法:**
```bash
# 检查浏览器控制台
# 刷新页面强制重新加载
Cmd+Shift+R (Mac) 或 Ctrl+Shift+R (Windows)
```

### 问题 3: React Hooks 错误

**可能原因:**
- 多个 React 版本冲突
- Hooks 使用不当

**解决方法:**
```bash
# 已修复，刷新浏览器即可
```

---

## 📸 预期效果截图指南

### Slash 命令菜单应该像这样:
```
┌─────────────────────────┐
│ H1  Heading 1           │ ← 选中状态（深色背景）
│ H2  Heading 2           │
│ H3  Heading 3           │
│ •   Bullet List         │
│ 1.  Numbered List       │
│ ❝   Quote               │
│ { } Code Block          │
│ —   Divider             │
└─────────────────────────┘
```

### 字数统计应该像这样:
```
╔══════════════════════════════════════════════════════╗
║ 编辑器内容区域...                                    ║
╠══════════════════════════════════════════════════════╣
║ 📝 42 words  •  🔤 235 chars  •  ⏱️ ~2 min read     ║
║ Shortcuts: Ctrl+S Save, Esc Cancel                   ║
╚══════════════════════════════════════════════════════╝
```

---

## ✅ 验收清单

- [ ] 输入 "/" 能弹出命令菜单
- [ ] 命令菜单包含 8 个命令
- [ ] 关键词搜索正常工作
- [ ] 中文关键词能正确搜索
- [ ] 上下箭头能切换选中
- [ ] Enter 键能执行命令
- [ ] Escape 键能关闭菜单
- [ ] 点击命令能执行
- [ ] 字数统计实时更新
- [ ] 英文计数准确
- [ ] 中文计数准确
- [ ] 阅读时间估算合理
- [ ] 暗色主题样式正常

---

## 🚀 下一步

如果所有测试通过:
- ✅ Phase 1 完成
- 🎯 可以继续 Phase 2: FTS5 全文搜索

如果有问题:
- 📋 记录具体错误信息
- 🔍 检查浏览器控制台
- 💬 反馈给开发者

---

**测试时间**: 2025-10-18
**功能版本**: Phase 1 - v1.0.0
