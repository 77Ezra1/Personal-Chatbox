# Git æŽ¨é€è„šæœ¬ä½¿ç”¨æŒ‡å—

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ª Git æŽ¨é€è„šæœ¬ï¼Œå¸®åŠ©ä½ æ›´é«˜æ•ˆåœ°ç®¡ç†ä»£ç æäº¤å’ŒæŽ¨é€ã€‚

## ðŸ“‹ è„šæœ¬æ¦‚è§ˆ

| è„šæœ¬åç§° | ç”¨é€” | æŽ¨èç¨‹åº¦ |
|---------|------|---------|
| `setup-ssh-keychain.sh` | é…ç½® SSH å¯†é’¥è‡ªåŠ¨è®¤è¯ | â­â­â­â­â­ å¿…é¡»é¦–æ¬¡è¿è¡Œ |
| `quick-push.sh` | å¿«é€ŸæŽ¨é€ï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰ | â­â­â­â­â­ æœ€å¸¸ç”¨ |
| `push-with-auth.sh` | æ™ºèƒ½æŽ¨é€ï¼ˆåŠŸèƒ½å…¨é¢ï¼‰ | â­â­â­â­ å¤æ‚åœºæ™¯ |

---

## ðŸ”§ é¦–æ¬¡é…ç½®ï¼ˆå¿…é¡»ï¼‰

### setup-ssh-keychain.sh

**ç”¨é€”**: é…ç½® macOS Keychain æ¥è®°ä½ SSH å¯†é’¥å¯†ç ï¼Œä»¥åŽæ‰€æœ‰ Git æ“ä½œéƒ½ä¸å†éœ€è¦è¾“å…¥å¯†ç ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
./setup-ssh-keychain.sh
```

**é…ç½®è¿‡ç¨‹**:
1. è„šæœ¬ä¼šæ£€æŸ¥æˆ–åˆ›å»º `~/.ssh/config` æ–‡ä»¶
2. æ·»åŠ  macOS Keychain é…ç½®
3. è¦æ±‚è¾“å…¥ SSH å¯†é’¥å¯†ç ï¼ˆåªéœ€è¾“å…¥ä¸€æ¬¡ï¼‰
4. å¯†ç ä¿å­˜åˆ°ç³»ç»Ÿé’¥åŒ™ä¸²ä¸­

**é…ç½®åŽçš„æ•ˆæžœ**:
- âœ… ä»¥åŽæ‰€æœ‰ `git push`ã€`git pull`ã€`git fetch` æ“ä½œéƒ½ä¸éœ€è¦å¯†ç 
- âœ… ç³»ç»Ÿé‡å¯åŽä»ç„¶æœ‰æ•ˆ
- âœ… å®‰å…¨ï¼šå¯†ç åŠ å¯†å­˜å‚¨åœ¨ macOS ç³»ç»Ÿé’¥åŒ™ä¸²ä¸­

**éªŒè¯é…ç½®**:
```bash
# æµ‹è¯• GitHub SSH è¿žæŽ¥
ssh -T git@github.com

# åº”è¯¥æ˜¾ç¤ºï¼š
# Hi [ä½ çš„ç”¨æˆ·å]! You've successfully authenticated...
```

---

## âš¡ æ—¥å¸¸ä½¿ç”¨

### 1. quick-push.shï¼ˆæŽ¨èï¼‰

**ç”¨é€”**: ä¸€é”®å®Œæˆ `git add` + `git commit` + `git push`ï¼Œé€‚åˆæ—¥å¸¸å¿«é€Ÿæäº¤ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä½¿ç”¨è‡ªå®šä¹‰æäº¤ä¿¡æ¯
./quick-push.sh "ä¿®å¤äº†ç™»å½•é¡µé¢çš„ bug"

# ä½¿ç”¨é»˜è®¤æäº¤ä¿¡æ¯ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
./quick-push.sh
```

**åŠŸèƒ½**:
- ðŸ“‹ æ˜¾ç¤ºå½“å‰æœªæäº¤çš„æ›´æ”¹
- âž• è‡ªåŠ¨æ·»åŠ æ‰€æœ‰æ›´æ”¹åˆ°æš‚å­˜åŒºï¼ˆ`git add -A`ï¼‰
- ðŸ’¾ æäº¤æ›´æ”¹
- ðŸš€ æŽ¨é€åˆ° GitHub
- âœ… å…¨ç¨‹æ— éœ€è¾“å…¥å¯†ç 

**è¾“å‡ºç¤ºä¾‹**:
```
ðŸ“¦ Git å¿«é€ŸæŽ¨é€
================================

ðŸ“‹ å½“å‰çŠ¶æ€:
M  src/App.jsx
A  src/components/NewFeature.jsx

âž• æ·»åŠ æ›´æ”¹...
ðŸ’¾ æäº¤æ›´æ”¹: ä¿®å¤äº†ç™»å½•é¡µé¢çš„ bug
ðŸš€ æŽ¨é€åˆ° GitHub...

âœ… æŽ¨é€å®Œæˆï¼
```

---

### 2. push-with-auth.shï¼ˆé«˜çº§ï¼‰

**ç”¨é€”**: æ™ºèƒ½æŽ¨é€è„šæœ¬ï¼Œæä¾›æ›´å¤šäº¤äº’å’ŒæŽ§åˆ¶é€‰é¡¹ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
./push-with-auth.sh
```

**åŠŸèƒ½**:
- ðŸ” æ£€æŸ¥ Git ä»“åº“çŠ¶æ€
- ðŸ” è‡ªåŠ¨è®¾ç½® SSH Agentï¼ˆä¼šè¯æœŸé—´ç¼“å­˜å¯†é’¥ï¼‰
- ðŸ“ äº¤äº’å¼é€‰æ‹©æ˜¯å¦æäº¤æœªæš‚å­˜çš„æ›´æ”¹
- âœï¸ å¯è‡ªå®šä¹‰æäº¤ä¿¡æ¯æˆ–ä½¿ç”¨é»˜è®¤ä¿¡æ¯
- ðŸ“Š æ˜¾ç¤ºæŽ¨é€æ‘˜è¦å’Œæ–°æäº¤åˆ—è¡¨
- ðŸŽ¨ å½©è‰²è¾“å‡ºï¼Œæ¸…æ™°æ˜“è¯»

**äº¤äº’æµç¨‹**:
```bash
$ ./push-with-auth.sh

=========================================
   Git æ™ºèƒ½æŽ¨é€è„šæœ¬ v1.0
=========================================

[SUCCESS] Git ä»“åº“æ£€æŸ¥é€šè¿‡
[INFO] æ£€æŸ¥ SSH Agent çŠ¶æ€...
[SUCCESS] SSH å¯†é’¥å·²åœ¨ agent ä¸­

[WARNING] æ£€æµ‹åˆ°æœªæäº¤çš„æ›´æ”¹ï¼š
M  src/App.jsx
?? src/components/NewFeature.jsx

æ˜¯å¦è¦å…ˆæäº¤è¿™äº›æ›´æ”¹ï¼Ÿ(y/n) y

è¾“å…¥æäº¤ä¿¡æ¯ (å›žè½¦ä½¿ç”¨é»˜è®¤ä¿¡æ¯): æ·»åŠ æ–°åŠŸèƒ½ç»„ä»¶

[INFO] æ·»åŠ æ‰€æœ‰æ›´æ”¹åˆ°æš‚å­˜åŒº...
[INFO] æäº¤æ›´æ”¹...
[SUCCESS] æäº¤å®Œæˆ

[INFO] å½“å‰åˆ†æ”¯: main
[INFO] æŽ¨é€åˆ°è¿œç¨‹ä»“åº“...
[SUCCESS] æŽ¨é€æˆåŠŸï¼

[INFO] æŽ¨é€æ‘˜è¦ï¼š
6daade7 æ·»åŠ æ–°åŠŸèƒ½ç»„ä»¶

âœ¨ æ‰€æœ‰æ“ä½œå®Œæˆï¼
```

---

## ðŸŽ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å¿«é€Ÿä¿®æ”¹å¹¶æŽ¨é€
```bash
# ä¿®æ”¹äº†å‡ ä¸ªæ–‡ä»¶åŽ
./quick-push.sh "ä¼˜åŒ–äº†æ€§èƒ½"
```

### åœºæ™¯2: å¤§é‡ä¿®æ”¹éœ€è¦ç¡®è®¤
```bash
# ä¿®æ”¹äº†å¾ˆå¤šæ–‡ä»¶ï¼Œæƒ³å…ˆçœ‹çœ‹å†å†³å®šæ˜¯å¦æäº¤
./push-with-auth.sh
# è„šæœ¬ä¼šæ˜¾ç¤ºæ‰€æœ‰æ›´æ”¹ï¼Œä½ å¯ä»¥é€‰æ‹©æ˜¯å¦æäº¤
```

### åœºæ™¯3: åªæŽ¨é€å·²æœ‰çš„æäº¤
```bash
# å·²ç»æ‰‹åŠ¨ commit äº†ï¼Œåªéœ€è¦æŽ¨é€
./push-with-auth.sh
# è„šæœ¬æ£€æµ‹åˆ°æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œç›´æŽ¥æŽ¨é€
```

### åœºæ™¯4: æŸ¥çœ‹æŽ¨é€äº†ä»€ä¹ˆå†…å®¹
```bash
# ä½¿ç”¨ push-with-auth.sh ä¼šæ˜¾ç¤ºæŽ¨é€æ‘˜è¦
./push-with-auth.sh
# è¾“å‡ºä¼šåŒ…å«æ–°æŽ¨é€çš„ commit åˆ—è¡¨
```

---

## ðŸ”’ å®‰å…¨è¯´æ˜Ž

### SSH å¯†é’¥å¯†ç çš„å­˜å‚¨æ–¹å¼

1. **macOS Keychain å­˜å‚¨**:
   - å¯†ç åŠ å¯†å­˜å‚¨åœ¨ç³»ç»Ÿé’¥åŒ™ä¸²ä¸­
   - åªæœ‰ä½ çš„ç”¨æˆ·è´¦æˆ·å¯ä»¥è®¿é—®
   - ä½¿ç”¨ç³»ç»Ÿçº§åˆ«çš„å®‰å…¨æœºåˆ¶

2. **ä¸åœ¨è„šæœ¬ä¸­å­˜å‚¨å¯†ç **:
   - âŒ è„šæœ¬ä¸­ä¸åŒ…å«ä»»ä½•å¯†ç 
   - âŒ ä¸ä½¿ç”¨æ˜Žæ–‡å­˜å‚¨
   - âœ… ä¾èµ–ç³»ç»Ÿå®‰å…¨æœºåˆ¶

3. **å¦‚ä½•ç§»é™¤å¯†é’¥**:
```bash
# ä»Ž SSH Agent ä¸­ç§»é™¤å¯†é’¥
ssh-add -d ~/.ssh/id_ed25519

# ä»Ž macOS Keychain ä¸­ç§»é™¤ï¼ˆéœ€è¦é‡æ–°è¿è¡Œ setup-ssh-keychain.shï¼‰
```

---

## ðŸ› ï¸ æ•…éšœæŽ’é™¤

### é—®é¢˜1: æŽ¨é€æ—¶ä»ç„¶è¦æ±‚è¾“å…¥å¯†ç 

**åŽŸå› **: 
- SSH Keychain é…ç½®æœªç”Ÿæ•ˆ
- SSH å¯†é’¥æœªæ·»åŠ åˆ° Keychain

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°è¿è¡Œé…ç½®è„šæœ¬
./setup-ssh-keychain.sh

# éªŒè¯å¯†é’¥æ˜¯å¦å·²æ·»åŠ 
ssh-add -l
# åº”è¯¥æ˜¾ç¤ºä½ çš„ SSH å¯†é’¥ä¿¡æ¯
```

---

### é—®é¢˜2: SSH è¿žæŽ¥å¤±è´¥

**åŽŸå› **: 
- SSH å¯†é’¥æ–‡ä»¶ä¸å­˜åœ¨
- SSH å¯†é’¥æœªæ·»åŠ åˆ° GitHub

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥ SSH å¯†é’¥æ˜¯å¦å­˜åœ¨
ls -la ~/.ssh/id_ed25519*

# 2. å¦‚æžœä¸å­˜åœ¨ï¼Œç”Ÿæˆæ–°å¯†é’¥
ssh-keygen -t ed25519 -C "your_email@example.com"

# 3. å¤åˆ¶å…¬é’¥å¹¶æ·»åŠ åˆ° GitHub
cat ~/.ssh/id_ed25519.pub
# ç„¶åŽåˆ° GitHub Settings > SSH and GPG keys > New SSH key æ·»åŠ 

# 4. æµ‹è¯•è¿žæŽ¥
ssh -T git@github.com
```

---

### é—®é¢˜3: `quick-push.sh` æŽ¨é€å¤±è´¥

**åŽŸå› **: 
- è¿œç¨‹ä»“åº“æœ‰æ–°çš„æäº¤
- æœ¬åœ°åˆ†æ”¯è½åŽäºŽè¿œç¨‹åˆ†æ”¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å…ˆæ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# ç„¶åŽå†æŽ¨é€
./quick-push.sh "ä½ çš„æäº¤ä¿¡æ¯"
```

---

### é—®é¢˜4: è„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™

**ç—‡çŠ¶**:
```bash
$ ./quick-push.sh
zsh: permission denied: ./quick-push.sh
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x quick-push.sh
chmod +x push-with-auth.sh
chmod +x setup-ssh-keychain.sh

# æˆ–è€…ä¸€æ¬¡æ€§æ·»åŠ 
chmod +x *.sh
```

---

## ðŸ“š ç›¸å…³å‘½ä»¤å‚è€ƒ

### æŸ¥çœ‹ Git çŠ¶æ€
```bash
git status              # æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€
git status -s           # ç®€æ´æ¨¡å¼
git log --oneline -10   # æŸ¥çœ‹æœ€è¿‘ 10 ä¸ªæäº¤
```

### æ‰‹åŠ¨æ“ä½œï¼ˆä¸ä½¿ç”¨è„šæœ¬ï¼‰
```bash
# ä¼ ç»Ÿæ–¹å¼
git add .
git commit -m "æäº¤ä¿¡æ¯"
git push origin main

# çŽ°åœ¨åªéœ€è¦
./quick-push.sh "æäº¤ä¿¡æ¯"
```

### SSH ç›¸å…³å‘½ä»¤
```bash
ssh-add -l                    # æŸ¥çœ‹å·²æ·»åŠ çš„ SSH å¯†é’¥
ssh-add -D                    # åˆ é™¤æ‰€æœ‰å·²æ·»åŠ çš„å¯†é’¥
ssh-add ~/.ssh/id_ed25519     # æ‰‹åŠ¨æ·»åŠ å¯†é’¥
ssh -T git@github.com         # æµ‹è¯• GitHub è¿žæŽ¥
```

---

## ðŸ’¡ æœ€ä½³å®žè·µ

1. **é¦–æ¬¡ä½¿ç”¨å¿…é¡»è¿è¡Œé…ç½®è„šæœ¬**:
   ```bash
   ./setup-ssh-keychain.sh
   ```

2. **æ—¥å¸¸æäº¤ä½¿ç”¨å¿«é€ŸæŽ¨é€**:
   ```bash
   ./quick-push.sh "æ¸…æ™°çš„æäº¤ä¿¡æ¯"
   ```

3. **æäº¤ä¿¡æ¯è¦æ¸…æ™°**:
   ```bash
   # âœ… å¥½çš„æäº¤ä¿¡æ¯
   ./quick-push.sh "ä¿®å¤äº†ç”¨æˆ·ç™»å½•æ—¶çš„éªŒè¯ç é”™è¯¯"
   ./quick-push.sh "æ·»åŠ äº†æ·±è‰²æ¨¡å¼æ”¯æŒ"
   
   # âŒ ä¸å¥½çš„æäº¤ä¿¡æ¯
   ./quick-push.sh "fix"
   ./quick-push.sh "update"
   ```

4. **å¤§æ”¹åŠ¨å‰å…ˆæ‹‰å–**:
   ```bash
   git pull origin main
   # ç„¶åŽè¿›è¡Œä¿®æ”¹
   ./quick-push.sh "é‡æž„äº†è®¤è¯ç³»ç»Ÿ"
   ```

5. **å®šæœŸæŽ¨é€ï¼Œé¿å…ç§¯ç´¯**:
   - å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æŽ¨é€ä¸€æ¬¡
   - ä¸è¦ç­‰åˆ°ç§¯ç´¯å¤§é‡ä¿®æ”¹æ‰æŽ¨é€

---

## ðŸŽ“ è¿›é˜¶æŠ€å·§

### åˆ›å»ºå‘½ä»¤åˆ«å

åœ¨ `~/.zshrc` æˆ– `~/.bashrc` ä¸­æ·»åŠ ï¼š

```bash
# Git å¿«é€ŸæŽ¨é€åˆ«å
alias gp='./quick-push.sh'
alias gpa='./push-with-auth.sh'

# ä½¿ç”¨æ–¹æ³•
gp "æäº¤ä¿¡æ¯"
gpa
```

### ç»“åˆé¡¹ç›®å¯åŠ¨è„šæœ¬

```bash
# å…ˆå¯åŠ¨é¡¹ç›®
./start.sh

# å¼€å‘å®ŒæˆåŽå¿«é€ŸæŽ¨é€
./quick-push.sh "å®Œæˆäº†æ–°åŠŸèƒ½å¼€å‘"
```

### æ‰¹é‡æŽ¨é€å¤šä¸ªä»“åº“

å¦‚æžœä½ æœ‰å¤šä¸ªé¡¹ç›®éœ€è¦æŽ¨é€ï¼š

```bash
# åˆ›å»ºæ‰¹é‡æŽ¨é€è„šæœ¬
cat > push-all.sh << 'EOF'
#!/bin/bash
cd ~/project1 && ./quick-push.sh "Update project1"
cd ~/project2 && ./quick-push.sh "Update project2"
cd ~/project3 && ./quick-push.sh "Update project3"
EOF

chmod +x push-all.sh
```

---

## ðŸ“ž èŽ·å–å¸®åŠ©

å¦‚æžœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
2. å‚è€ƒæœ¬æ–‡æ¡£çš„æ•…éšœæŽ’é™¤éƒ¨åˆ†
3. æ£€æŸ¥ Git å’Œ SSH é…ç½®ï¼š
   ```bash
   git config --list
   cat ~/.ssh/config
   ```

---

## ðŸ“ æ›´æ–°æ—¥å¿—

### v1.0 (2025-01-14)
- âœ… åˆ›å»º `setup-ssh-keychain.sh` - SSH è‡ªåŠ¨è®¤è¯é…ç½®
- âœ… åˆ›å»º `quick-push.sh` - å¿«é€ŸæŽ¨é€è„šæœ¬
- âœ… åˆ›å»º `push-with-auth.sh` - æ™ºèƒ½æŽ¨é€è„šæœ¬
- âœ… æ”¯æŒ macOS Keychain å¯†ç å­˜å‚¨
- âœ… å½©è‰²è¾“å‡ºå’Œå‹å¥½çš„ç”¨æˆ·ç•Œé¢

---

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žæå‡ºæ”¹è¿›å»ºè®®æˆ–æŠ¥å‘Šé—®é¢˜ï¼

---

**Happy Coding! ðŸš€**
